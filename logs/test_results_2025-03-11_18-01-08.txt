Godot Engine v4.4.stable.official.4c311cbee - https://godotengine.org

Starting test runner...
Test suite loaded successfully
Starting test suite...
Found test files: ["test_game_state_machine"]

===== RUNNING TESTS =====
Loading test script: res://tests/test_game_state_machine.gd

----- Running test_game_state_machine -----
Setting up test environment...
ERROR: Parameter "p_child" is null.
   at: add_child (scene/main/node.cpp:1651)
SCRIPT ERROR: Invalid type in function 'add_child' in base 'Node (MockGameManager)'. The Object-derived class of argument 1 (RefCounted (MockTargetingState)) is not a subclass of the expected argument class.
   at: MockGameManager._init (res://tests/mock_game_manager.gd:28)
GameStateMachine ready - waiting for initialization
Initializing GameStateMachine...
GameStateMachine initialized successfully
Game state changed to: WEAPON_PLACEMENT
Starting weapon placement phase for Player 1
SCRIPT ERROR: Invalid call. Nonexistent function '_create_weapon_buttons' in base 'Nil'.
   at: _apply_state_change (res://scripts/states/game_state_machine.gd:127)
✅ test_resolution_to_weapon_placement: State should transition to WEAPON_PLACEMENT - PASS
Tearing down test environment...
ERROR: Failed to retrieve non-existent singleton 'GDScript'.
   at: get_singleton_object (core/config/engine.cpp:325)
SCRIPT ERROR: Attempt to call function 'garbage_collect' in base 'null instance' on a null instance.
   at: GameStateMachineTest.teardown (res://tests/test_game_state_machine.gd:104)

===== TEST RESULTS =====
Tests passed: 1
Tests failed: 0
Total tests: 1

✅ ALL TESTS PASSED
Test results saved to: user://logs/test_results_2025-03-11_18-01-08.log
GameManager singleton initialized
Warning: Current scene is null. This is normal during testing.
WARNING: ObjectDB instances leaked at exit (run with --verbose for details).
   at: cleanup (core/object/object.cpp:2378)
ERROR: 1 resources still in use at exit (run with --verbose for details).
   at: clear (core/io/resource.cpp:614)
